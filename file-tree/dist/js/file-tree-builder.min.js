"use strict";!function(a){a.fn.treebuilder=function(b){function c(c){return b=a.extend(k,b),c.each(function(){var c=b,d=a(this),h='<ol class="tree">';c.data.forEach(function(a){h+="dir"===a.type?j(a):i(a)}),h+="</ol>",d.append(h),d.addClass("treebuilder"),d.find("li.folder").addClass("mjs-nestedSortable-collapsed"),e(d),b.sortable?f(d):b.selectable&&g(d)})}function d(){return"test"}function e(b){a(b).find(".tree li.folder > div").on("click",function(){a(this).closest("li").toggleClass("mjs-nestedSortable-collapsed").toggleClass("mjs-nestedSortable-expanded")})}function f(b){b.addClass("sortable"),a(b).find("> ol.tree").nestedSortable({forcePlaceholderSize:!0,handle:"span",helper:"clone",items:"li",opacity:.6,placeholder:"placeholder",revert:250,tabSize:20,tolerance:"pointer",toleranceElement:"> div",maxLevels:0,isTree:!0,expandOnHover:400,startCollapsed:!0})}function g(b){function c(c){a(b).find(".tree li.folder").removeClass("selected"),a(b).find(".tree li.file").removeClass("selected"),a(c).addClass("selected"),a(b).trigger("itemSelected",[c])}b.addClass("selectable"),a(b).find(".tree li.folder > div").on("click",function(b){c(a(this).parent()),b.stopPropagation()}),a(b).find(".tree li.file > div").on("click",function(b){c(a(this).parent()),b.stopPropagation()})}function h(a){var b="";return a.children.forEach(function(a){b+="dir"===a.type?j(a):i(a)}),b}function i(a){var c="";return c=void 0!==a.id?'<li id="'+a.id+'" class="file mjs-nestedSortable-no-nesting"><div>':'<li class="file mjs-nestedSortable-no-nesting"><div>',c=void 0!==a.url&&b.selectable!==!0?c+'<a href="'+a.url+'"><span></span>'+a.name+"</a></div></li>":c+"<span></span>"+a.name+"</div></li>"}function j(a){var b;return b=void 0!==a.id?'<li id="'+a.id+'" class="folder"><div><span></span>'+a.name+"</div>":'<li class="folder"><div><span></span>'+a.name+"</div>",void 0!==a.children&&(b=b+"<ol>"+h(a)+"</ol>"),b+="</li>"}var k={data:void 0,sortable:!1,selectable:!1};switch(b){case"serialize":return d();default:return c(this)}}}(jQuery);